<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<title>Volfield HTML5</title>
</head>
<body>
	<canvas id="canvas" width="640px" height="480px"> </canvas>
	<script>
		var canvas_margin = 20;
		var width = 640;
		var height = 480;
		var canvas = document.getElementById("canvas");
		var context = canvas.getContext( '2d' );
		var playerX = canvas_margin;
		var	playerY = canvas_margin;
		var speed = 5;
		window.addEventListener("keydown",doKeyDown,true);

		function mainLoop(){

		context.fillStyle = "black";
		context.fillRect(0,0,width,height);
		context.strokeStyle = "yellow";
		context.beginPath();
		context.moveTo(canvas_margin, canvas_margin);
		context.lineTo(canvas_margin, height - canvas_margin);
		context.lineTo(width - canvas_margin,height - canvas_margin);
		context.lineTo(width - canvas_margin,canvas_margin);
		context.lineTo(canvas_margin, canvas_margin);
		context.closePath();
		context.stroke();

		context.fillStyle = "red";
		context.beginPath();
		context.arc(playerX, playerY, 10, 0, 2*Math.PI, true);
		context.closePath();
		context.fill();
		}

		function doKeyDown(event) {
			switch (event.keyCode) {
					case 38: /*Up arrow*/
						playerY-=speed;
						if(playerY < canvas_margin)
							playerY = canvas_margin;
						break;
					case 40: /*Down arrow*/
						playerY +=speed;
						if(playerY > height - canvas_margin)
							playerY = height - canvas_margin;
						break;
					case 37: /*Left arrow*/
						playerX -=speed;
						if(playerX < canvas_margin)
							playerX = canvas_margin;
						break;
					case 39: /*Right arrow*/
						playerX +=speed;
						if(playerX > width - canvas_margin)
							playerX = width - canvas_margin;
						break;
			}
		}

		setInterval(mainLoop,33);

    </script>
</body>
</html>
	
